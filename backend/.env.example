# ===========================================
# Audiobook Platform - Environment Configuration
# ===========================================

# Server
NODE_ENV=development
PORT=8081

# Database (PostgreSQL)
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/audiobookshelf
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# JWT Authentication
# Secret key for signing JWT tokens (change this in production!)
JWT_SECRET=your-super-secret-jwt-key-change-in-production
# Access token expiry (short-lived, auto-refreshed)
JWT_ACCESS_EXPIRY=1d
# Refresh token expiry in days (6 months = 180 days)
JWT_REFRESH_EXPIRY_DAYS=180

# Encryption (for storage access keys - must be 32 characters)
ENCRYPTION_KEY=your-32-character-encryption-key!

# Storage
# Set to 'true' to use local file storage (recommended for Windows deployment)
# Set to 'false' to use Azure Blob Storage
USE_LOCAL_STORAGE=true

# CORS (allowed origins for API requests)
# In production with frontend served from backend, this can match the server URL
CORS_ORIGIN=http://localhost:8081

# Rate Limiting
# Window in milliseconds (900000 = 15 minutes)
RATE_LIMIT_WINDOW_MS=900000
# Max requests per window per IP
RATE_LIMIT_MAX_REQUESTS=100

# SAS Token (for Azure Blob Storage, if USE_LOCAL_STORAGE=false)
SAS_TOKEN_EXPIRY_MINUTES=60

# Logging
# Levels: error, warn, info, debug
LOG_LEVEL=info
